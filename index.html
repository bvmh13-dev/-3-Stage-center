<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Center - Comprehensive Guide to Blood Types</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        /* CSS Variables */
        :root {
            --medical-blue: #1e40af;
            --medical-light: #dbeafe;
            --medical-dark: #1e3a8a;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #dc2626;
            --purple: #7c3aed;
            --pink: #ec4899;
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        body[dir="rtl"] {
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header-scrolled {
            padding: 0.5rem 0;
            background: rgba(255, 255, 255, 0.98);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--medical-blue), var(--purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.8rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
        }

        .logo:hover .logo-icon {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 6px 20px rgba(30, 64, 175, 0.4);
        }

        .logo-text h1 {
            color: var(--medical-dark);
            margin-bottom: 0.2rem;
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--medical-dark), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo-text p {
            color: #666;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            text-decoration: none;
            color: #333;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
            font-size: 1.1rem;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--medical-blue), var(--purple));
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        nav a:hover::after {
            width: 100%;
        }

        nav a:hover {
            color: var(--medical-blue);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .language-btn {
            background: linear-gradient(135deg, var(--medical-light), #e0f2fe);
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .language-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--medical-blue) 0%, var(--purple) 100%);
            color: white;
            padding: 10rem 0 6rem;
            margin-top: 80px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><path fill="rgba(255,255,255,0.1)" d="M0,1000 Q500,800 1000,1000 L1000,0 Q500,200 0,0 Z"/></svg>');
            animation: float 8s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(1deg); }
        }

        .hero-content {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero h2 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            animation: slideInUp 1s ease-out;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.4rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            animation: slideInUp 1s ease-out 0.3s both;
            line-height: 1.6;
        }

        /* Scientific Sections */
        .science-section {
            padding: 5rem 0;
            background: white;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            color: var(--medical-dark);
            font-size: 2.8rem;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--medical-blue), var(--purple));
            border-radius: 2px;
        }

        .science-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
        }

        .science-card {
            background: linear-gradient(135deg, #fff 0%, #f8fafc 100%);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }

        .science-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--medical-blue), var(--purple));
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .science-card:hover::before {
            transform: scaleX(1);
        }

        .science-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
        }

        .science-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--medical-blue), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: all 0.3s ease;
        }

        .science-card:hover .science-icon {
            transform: scale(1.2) rotate(10deg);
        }

        .science-card h3 {
            color: var(--medical-dark);
            font-size: 1.8rem;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .science-card p {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .problem-solution {
            background: var(--medical-light);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
            border-left: 4px solid var(--medical-blue);
        }

        .problem {
            color: var(--danger);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .solution {
            color: var(--success);
            font-weight: 600;
        }

        /* Enhanced Blood Types Visualization */
        .blood-types {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5rem 0;
            position: relative;
            overflow: hidden;
        }

        .types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .type-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .type-card:hover::before {
            left: 100%;
        }

        .type-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.2);
        }

        .type-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.9;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            background: rgba(255,255,255,0.2);
        }

        /* Advanced Interactive Lab */
        .interactive-lab {
            padding: 5rem 0;
            background: white;
        }

        .lab-container {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            position: relative;
        }

        .microscope {
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem;
            background: conic-gradient(from 0deg, #1e40af, #7c3aed, #1e40af);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: white;
            animation: rotate 10s linear infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .microscope:hover {
            animation: rotate 2s linear infinite;
            transform: scale(1.1);
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Enhanced Statistics */
        .statistics {
            padding: 5rem 0;
            background: linear-gradient(135deg, var(--medical-dark), var(--purple));
            color: white;
            position: relative;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .stat-item {
            padding: 2rem;
            position: relative;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: countUp 2s ease-out;
        }

        @keyframes countUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Enhanced FAQ Section */
        .faq-section {
            padding: 5rem 0;
            background: white;
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--medical-light);
            margin-bottom: 1rem;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid #e2e8f0;
        }

        .faq-question {
            padding: 1.5rem;
            background: var(--medical-blue);
            color: white;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            background: var(--medical-dark);
        }

        .faq-answer {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item.active .faq-answer {
            padding: 1.5rem;
            max-height: 500px;
        }

        /* New Patient Stories Section */
        .patient-stories {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .stories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .story-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .story-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg, var(--medical-blue), var(--purple));
        }

        .story-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .story-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--medical-blue), var(--purple));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        /* Enhanced Image Placeholders with Animations */
        .blood-cell {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #dc2626, #b91c1c);
            border-radius: 50%;
            position: relative;
            margin: 0 auto 2rem;
            animation: pulse 3s infinite;
            cursor: pointer;
        }

        .blood-cell::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 20%;
            width: 60%;
            height: 60%;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .blood-cell:hover {
            animation: pulse 1s infinite;
        }

        .test-tube {
            width: 80px;
            height: 120px;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            border-radius: 10px 10px 40px 40px;
            position: relative;
            margin: 0 auto 2rem;
            transition: all 0.3s ease;
        }

        .test-tube::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px 5px 30px 30px;
        }

        .test-tube:hover {
            transform: scale(1.1);
        }

        /* New Animation: Blood Flow */
        .blood-flow {
            width: 200px;
            height: 100px;
            position: relative;
            margin: 2rem auto;
        }

        .blood-flow::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 20px;
            background: linear-gradient(90deg, transparent, #dc2626, transparent);
            border-radius: 10px;
            animation: flow 3s linear infinite;
        }

        @keyframes flow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Enhanced Footer */
        footer {
            background: var(--medical-dark);
            color: white;
            padding: 4rem 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
            font-size: 1.4rem;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--medical-light);
            border-radius: 2px;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.8rem;
            transition: transform 0.3s ease;
        }

        .footer-section ul li:hover {
            transform: translateX(10px);
        }

        .footer-section a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 3rem;
            border-top: 1px solid #374151;
            color: #ccc;
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Enhanced Floating Elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-element {
            position: absolute;
            background: rgba(30, 64, 175, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .floating-element:nth-child(1) {
            width: 120px;
            height: 120px;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
            background: rgba(124, 58, 237, 0.1);
        }

        .floating-element:nth-child(2) {
            width: 80px;
            height: 80px;
            top: 60%;
            right: 15%;
            animation-delay: 2s;
            background: rgba(30, 64, 175, 0.1);
        }

        .floating-element:nth-child(3) {
            width: 150px;
            height: 150px;
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
            background: rgba(124, 58, 237, 0.1);
        }

        /* New 3D Blood Cell */
        .blood-cell-3d {
            width: 120px;
            height: 120px;
            margin: 2rem auto;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate3d 8s linear infinite;
        }

        .blood-cell-3d::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, #dc2626, #b91c1c);
            border-radius: 50%;
            transform: translateZ(20px);
        }

        @keyframes rotate3d {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            100% { transform: rotateY(360deg) rotateX(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }

            .hero h2 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.2rem;
            }

            .science-grid {
                grid-template-columns: 1fr;
            }

            .section-title h2 {
                font-size: 2.2rem;
            }
        }

        /* New Timeline for Medical Procedures */
        .timeline {
            position: relative;
            max-width: 800px;
            margin: 3rem auto;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--medical-blue);
            transform: translateX(-50%);
        }

        .timeline-item {
            background: white;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            width: 45%;
        }

        .timeline-item:nth-child(odd) {
            margin-left: 55%;
        }

        .timeline-item:nth-child(even) {
            margin-right: 55%;
        }

        /* Contact Us Section */
        .contact-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 3rem;
        }

        .contact-info {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .contact-form {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--medical-light);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .contact-item:hover {
            transform: translateX(10px);
            background: var(--medical-blue);
            color: white;
        }

        .contact-item i {
            font-size: 1.5rem;
            margin-right: 1rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--medical-blue);
            color: white;
            border-radius: 50%;
        }

        .contact-item:hover i {
            background: white;
            color: var(--medical-blue);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--medical-dark);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--medical-blue);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--medical-blue), var(--purple));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(30, 64, 175, 0.3);
        }

        .map-container {
            margin-top: 2rem;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .map-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* New Animations for Blood Components */
        .animated-rbc {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #dc2626, #b91c1c);
            border-radius: 50%;
            position: relative;
            margin: 0 auto;
            animation: rbc-float 4s ease-in-out infinite;
        }

        .animated-rbc::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 20%;
            width: 60%;
            height: 60%;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        @keyframes rbc-float {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
        }

        .animated-wbc {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #f8fafc, #e2e8f0);
            border-radius: 50%;
            position: relative;
            margin: 0 auto;
            animation: wbc-pulse 3s ease-in-out infinite;
        }

        .animated-wbc::before {
            content: '';
            position: absolute;
            top: 15%;
            left: 15%;
            width: 70%;
            height: 70%;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
        }

        @keyframes wbc-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .animated-platelet {
            width: 40px;
            height: 20px;
            background: linear-gradient(45deg, #f59e0b, #fbbf24);
            border-radius: 10px;
            margin: 0 auto;
            animation: platelet-drift 5s linear infinite;
        }

        @keyframes platelet-drift {
            0% { transform: translateX(-100px) rotate(0deg); }
            100% { transform: translateX(100px) rotate(360deg); }
        }

        /* New Medical Equipment Animations */
        .centrifuge {
            width: 120px;
            height: 120px;
            background: conic-gradient(from 0deg, #6b7280, #9ca3af, #6b7280);
            border-radius: 50%;
            margin: 0 auto;
            position: relative;
            animation: spin 4s linear infinite;
        }

        .centrifuge::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            background: #374151;
            border-radius: 50%;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .microscope-animated {
            width: 100px;
            height: 120px;
            background: linear-gradient(45deg, #4b5563, #6b7280);
            border-radius: 10px 10px 0 0;
            margin: 0 auto;
            position: relative;
            animation: microscope-focus 3s ease-in-out infinite;
        }

        .microscope-animated::before {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 40px;
            width: 20px;
            height: 40px;
            background: #4b5563;
            border-radius: 5px;
        }

        @keyframes microscope-focus {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Anemia and Hemoglobin Sections */
        .condition-section {
            padding: 5rem 0;
            background: white;
        }

        .condition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .condition-card {
            background: linear-gradient(135deg, #fff 0%, #f8fafc 100%);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            text-align: center;
        }

        .condition-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .condition-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--medical-blue);
        }

        .condition-animation {
            width: 100px;
            height: 100px;
            margin: 0 auto 1rem;
            position: relative;
        }

        /* Pregnancy and Marriage Testing Section */
        .testing-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .testing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testing-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            text-align: center;
        }

        .testing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .testing-animation {
            width: 120px;
            height: 120px;
            margin: 0 auto 1rem;
            position: relative;
        }

        /* New Interactive Elements */
        .interactive-element {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .interactive-element:hover {
            transform: scale(1.05);
        }

        /* Blood Donation Section */
        .donation-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, var(--medical-blue) 0%, var(--purple) 100%);
            color: white;
        }

        .donation-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .donation-step {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .donation-step:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.2);
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: white;
            color: var(--medical-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            margin: 0 auto 1rem;
        }

        /* Emergency Section */
        .emergency-section {
            padding: 5rem 0;
            background: white;
        }

        .emergency-info {
            background: var(--medical-light);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
        }

        /* New Blood Components Visualization */
        .components-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .component-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }

        .component-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .component-animation {
            width: 100px;
            height: 100px;
            margin: 0 auto 1rem;
        }

        /* NEW STYLES FOR ADDED SECTIONS */
        
        /* محاكي توافق الدم */
        .compatibility-simulator {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .simulator-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .simulator-result {
            background: var(--medical-light);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            margin-top: 1rem;
            display: none;
        }
        
        /* خريطة مراكز التبرع */
        .donation-map {
            height: 400px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            margin: 2rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        /* نظام حجز المواعيد */
        .appointment-system {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .appointment-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .appointment-confirmation {
            background: var(--success);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            margin-top: 1rem;
            display: none;
        }
        
        /* أداة التبرع الذكية */
        .donation-calculator {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .calculator-result {
            background: var(--medical-light);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: none;
        }
        
        /* قسم الابتكار */
        .innovation-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }
        
        .innovation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .innovation-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .innovation-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .innovation-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--medical-blue);
        }
        
        /* قسم القصص الملهمة */
        .stories-section {
            padding: 5rem 0;
            background: white;
        }
        
        .story-timeline {
            position: relative;
            max-width: 800px;
            margin: 3rem auto;
        }
        
        .story-item {
            background: white;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .story-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--medical-blue), var(--purple));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 1rem;
            float: left;
        }
        
        /* قسم الموارد للمهنيين */
        .resources-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .resource-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }
        
        /* تحسينات للاستجابة */
        @media (max-width: 768px) {
            .simulator-controls,
            .appointment-form {
                grid-template-columns: 1fr;
            }
            
            .story-avatar {
                float: none;
                margin: 0 auto 1rem;
            }
        }
    </style>
</head>
<body dir="ltr">
    <!-- Floating Background Elements -->
    <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
    </div>

    <!-- Header -->
    <header id="mainHeader">
        <div class="container">
            <div class="header-content">
                <div class="logo" onclick="scrollToTop()">
                    <div class="logo-icon">
                        <i class="fas fa-microscope"></i>
                    </div>
                    <div class="logo-text">
                        <h1 data-translate="site_name">Blood Center</h1>
                        <p data-translate="site_slogan">Comprehensive Science of Blood Types and Analysis</p>
                    </div>
                </div>
                
                <nav>
                    <ul>
                        <li><a href="#home" data-translate="nav_home">Home</a></li>
                        <li><a href="#types" data-translate="nav_types">Blood Types</a></li>
                        <li><a href="#compatibility" data-translate="nav_compatibility">Compatibility</a></li>
                        <li><a href="#testing" data-translate="nav_testing">Health Testing</a></li>
                        <li><a href="#donation" data-translate="nav_donation">Donation</a></li>
                        <li><a href="#contact" data-translate="nav_contact">Contact Us</a></li>
                    </ul>
                </nav>
                
                <div class="header-actions">
                    <button class="language-btn" onclick="toggleLanguage()">
                        <i class="fas fa-globe"></i>
                        <span id="currentLang">English</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home" data-aos="fade-in">
        <div class="container">
            <div class="hero-content">
                <h2 data-translate="hero_title">Discover the World of Blood Types</h2>
                <p data-translate="hero_subtitle">Specialized center for understanding blood type analysis, its problems, and scientific solutions. Dive into the world of genetics and precision medicine</p>
                <div class="blood-cell-3d"></div>
                <div class="blood-flow"></div>
            </div>
        </div>
    </section>

    <!-- Science Behind Section -->
    <section class="science-section" id="science">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="science_title">The Science Behind Blood Type Analysis</h2>
            </div>
            <div class="science-grid">
                <div class="science-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="science-icon">
                        <i class="fas fa-dna"></i>
                    </div>
                    <h3 data-translate="science1_title">Advanced Genetic Basis</h3>
                    <p data-translate="science1_desc">Blood types are inherited through multiple systems: ABO, Rh, Kell, Duffy. Each system determines unique antigens on red blood cell surfaces.</p>
                    <div class="test-tube" onclick="showGeneticInfo()"></div>
                    <div class="problem-solution">
                        <div class="problem" data-translate="science1_problem">Problem: Rare genetic mutations may cause unexpected results</div>
                        <div class="solution" data-translate="science1_solution">Solution: Using advanced genetic analysis to detect mutations</div>
                    </div>
                </div>

                <div class="science-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="science-icon">
                        <i class="fas fa-vial"></i>
                    </div>
                    <h3 data-translate="science2_title">Advanced Laboratory Techniques</h3>
                    <p data-translate="science2_desc">From traditional methods to full automation, includes: gel methods, monoclonal antibodies, and molecular analysis.</p>
                    <div class="blood-cell" onclick="showLabTechniques()"></div>
                    <div class="problem-solution">
                        <div class="problem" data-translate="science2_problem">Problem: Sample mix-ups in busy laboratories</div>
                        <div class="solution" data-translate="science2_solution">Solution: Barcode tracking systems and periodic quality control</div>
                    </div>
                </div>

                <div class="science-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="science-icon">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    <h3 data-translate="science3_title">Comprehensive Medical Applications</h3>
                    <p data-translate="science3_desc">Includes: open-heart surgery, organ transplants, cancer treatment, and high-risk pregnancy care.</p>
                    <div class="problem-solution">
                        <div class="problem" data-translate="science3_problem">Problem: Shortage of rare blood in emergencies</div>
                        <div class="solution" data-translate="science3_solution">Solution: Regional blood banks and rapid donation networks</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blood Types Section -->
    <section class="blood-types" id="types">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="types_title">Main Blood Types and Rarity</h2>
            </div>
            <div class="types-grid">
                <div class="type-card" data-aos="zoom-in" data-aos-delay="100" onclick="showTypeDetails('A+')">
                    <div class="type-icon">A+</div>
                    <h3 data-translate="type_a_plus">Type A+</h3>
                    <p data-translate="type_a_desc">Antigen A + Rh factor</p>
                    <small data-translate="type_a_percent">~34% of population</small>
                    <div class="type-features">
                        <span data-translate="type_a_donate">Can donate to: A+, AB+</span>
                        <span data-translate="type_a_receive">Can receive from: A+, A-, O+, O-</span>
                    </div>
                </div>
                <div class="type-card" data-aos="zoom-in" data-aos-delay="200" onclick="showTypeDetails('O-')">
                    <div class="type-icon">O-</div>
                    <h3 data-translate="type_o_minus">Type O-</h3>
                    <p data-translate="type_o_desc">Universal Donor</p>
                    <small data-translate="type_o_percent">~7% of population</small>
                    <div class="type-features">
                        <span data-translate="type_o_donate">Can donate to: All blood types</span>
                        <span data-translate="type_o_receive">Can receive from: O- only</span>
                    </div>
                </div>
                <div class="type-card" data-aos="zoom-in" data-aos-delay="300" onclick="showTypeDetails('AB+')">
                    <div class="type-icon">AB+</div>
                    <h3 data-translate="type_ab_plus">Type AB+</h3>
                    <p data-translate="type_ab_desc">Universal Recipient</p>
                    <small data-translate="type_ab_percent">~3% of population</small>
                    <div class="type-features">
                        <span data-translate="type_ab_donate">Can donate to: AB+ only</span>
                        <span data-translate="type_ab_receive">Can receive from: All blood types</span>
                    </div>
                </div>
                <div class="type-card" data-aos="zoom-in" data-aos-delay="400" onclick="showTypeDetails('B-')">
                    <div class="type-icon">B-</div>
                    <h3 data-translate="type_b_minus">Type B-</h3>
                    <p data-translate="type_b_desc">Rare and Important</p>
                    <small data-translate="type_b_percent">~2% of population</small>
                    <div class="type-features">
                        <span data-translate="type_b_donate">Can donate to: B+, B-, AB+, AB-</span>
                        <span data-translate="type_b_receive">Can receive from: B-, O-</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blood Compatibility Simulator -->
    <section class="science-section" id="compatibility">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="compatibility_title">Blood Type Compatibility Simulator</h2>
                <p data-translate="compatibility_subtitle">Test blood type compatibility for donation and reception</p>
            </div>
            
            <div class="compatibility-simulator" data-aos="fade-up">
                <div class="simulator-controls">
                    <div class="form-group">
                        <label for="donorType" data-translate="donor_type">Donor Blood Type</label>
                        <select id="donorType" class="form-control">
                            <option value="A+" data-translate="type_a_plus">A+</option>
                            <option value="A-" data-translate="type_a_minus">A-</option>
                            <option value="B+" data-translate="type_b_plus">B+</option>
                            <option value="B-" data-translate="type_b_minus">B-</option>
                            <option value="AB+" data-translate="type_ab_plus">AB+</option>
                            <option value="AB-" data-translate="type_ab_minus">AB-</option>
                            <option value="O+" data-translate="type_o_plus">O+</option>
                            <option value="O-" data-translate="type_o_minus">O-</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="recipientType" data-translate="recipient_type">Recipient Blood Type</label>
                        <select id="recipientType" class="form-control">
                            <option value="A+" data-translate="type_a_plus">A+</option>
                            <option value="A-" data-translate="type_a_minus">A-</option>
                            <option value="B+" data-translate="type_b_plus">B+</option>
                            <option value="B-" data-translate="type_b_minus">B-</option>
                            <option value="AB+" data-translate="type_ab_plus">AB+</option>
                            <option value="AB-" data-translate="type_ab_minus">AB-</option>
                            <option value="O+" data-translate="type_o_plus">O+</option>
                            <option value="O-" data-translate="type_o_minus">O-</option>
                        </select>
                    </div>
                </div>
                
                <button class="submit-btn" onclick="checkCompatibility()" data-translate="check_compatibility">Check Compatibility</button>
                
                <div class="simulator-result" id="compatibilityResult">
                    <h4 id="resultTitle"></h4>
                    <p id="resultDescription"></p>
                    <div id="compatibilityDetails"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Smart Donation Tool -->
    <section class="science-section" id="donation">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="calculator_title">Smart Donation Tool</h2>
                <p data-translate="calculator_subtitle">Calculate your donation impact and next donation dates</p>
            </div>
            
            <div class="donation-calculator" data-aos="fade-up">
                <div class="form-group">
                    <label for="lastDonation" data-translate="last_donation">Last Donation Date</label>
                    <input type="date" id="lastDonation" class="form-control">
                </div>
                
                <div class="form-group">
                    <label for="bloodType" data-translate="your_blood_type">Your Blood Type</label>
                    <select id="bloodType" class="form-control">
                        <option value="A+" data-translate="type_a_plus">A+</option>
                        <option value="A-" data-translate="type_a_minus">A-</option>
                        <option value="B+" data-translate="type_b_plus">B+</option>
                        <option value="B-" data-translate="type_b_minus">B-</option>
                        <option value="AB+" data-translate="type_ab_plus">AB+</option>
                        <option value="AB-" data-translate="type_ab_minus">AB-</option>
                        <option value="O+" data-translate="type_o_plus">O+</option>
                        <option value="O-" data-translate="type_o_minus">O-</option>
                    </select>
                </div>
                
                <button class="submit-btn" onclick="calculateDonation()" data-translate="calculate_donation">Calculate Donation</button>
                
                <div class="calculator-result" id="donationResult">
                    <h4 id="donationTitle"></h4>
                    <p id="donationDescription"></p>
                    <div id="nextDonationDate"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blood Donation Centers Map -->
    <section class="science-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="map_title">Nearby Blood Donation Centers</h2>
                <p data-translate="map_subtitle">Find the closest blood donation center in your area</p>
            </div>
            
            <div class="donation-map" data-aos="fade-up">
                <div class="map-overlay">
                    <i class="fas fa-map-marked-alt" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                    <h3 data-translate="map_loading">Loading donation centers map...</h3>
                    <p data-translate="map_instruction">Your location will be automatically detected to show nearby centers</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Appointment Booking System -->
    <section class="science-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="appointment_title">Book a Blood Donation Appointment</h2>
                <p data-translate="appointment_subtitle">Book your appointment in advance to save time and effort</p>
            </div>
            
            <div class="appointment-system" data-aos="fade-up">
                <form id="appointmentForm" class="appointment-form">
                    <div class="form-group">
                        <label for="appointmentName" data-translate="form_name">Full Name</label>
                        <input type="text" id="appointmentName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentPhone" data-translate="form_phone">Phone Number</label>
                        <input type="tel" id="appointmentPhone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentEmail" data-translate="form_email">Email Address</label>
                        <input type="email" id="appointmentEmail">
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentBloodType" data-translate="your_blood_type">Blood Type</label>
                        <select id="appointmentBloodType" required>
                            <option value="" data-translate="form_select">Select blood type</option>
                            <option value="A+" data-translate="type_a_plus">A+</option>
                            <option value="A-" data-translate="type_a_minus">A-</option>
                            <option value="B+" data-translate="type_b_plus">B+</option>
                            <option value="B-" data-translate="type_b_minus">B-</option>
                            <option value="AB+" data-translate="type_ab_plus">AB+</option>
                            <option value="AB-" data-translate="type_ab_minus">AB-</option>
                            <option value="O+" data-translate="type_o_plus">O+</option>
                            <option value="O-" data-translate="type_o_minus">O-</option>
                            <option value="unknown" data-translate="type_unknown">Unknown</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentCenter" data-translate="donation_center">Donation Center</label>
                        <select id="appointmentCenter" required>
                            <option value="" data-translate="form_select">Select center</option>
                            <option value="center1" data-translate="center1">Main Center - Diwaniyah</option>
                            <option value="center2" data-translate="center2">Diwaniyah Teaching Hospital</option>
                            <option value="center3" data-translate="center3">Blood Donation Center - Industrial Area</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentDate" data-translate="appointment_date">Appointment Date</label>
                        <input type="date" id="appointmentDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="appointmentTime" data-translate="appointment_time">Appointment Time</label>
                        <select id="appointmentTime" required>
                            <option value="" data-translate="form_select">Select time</option>
                            <option value="08:00">8:00 AM</option>
                            <option value="09:00">9:00 AM</option>
                            <option value="10:00">10:00 AM</option>
                            <option value="11:00">11:00 AM</option>
                            <option value="12:00">12:00 PM</option>
                            <option value="13:00">1:00 PM</option>
                            <option value="14:00">2:00 PM</option>
                            <option value="15:00">3:00 PM</option>
                            <option value="16:00">4:00 PM</option>
                        </select>
                    </div>
                </form>
                
                <button type="submit" class="submit-btn" onclick="bookAppointment()" data-translate="book_appointment">Book Appointment</button>
                
                <div class="appointment-confirmation" id="appointmentConfirmation">
                    <h4 data-translate="appointment_success">Appointment booked successfully!</h4>
                    <p id="appointmentDetails"></p>
                    <p data-translate="appointment_instructions">A confirmation will be sent via email and SMS</p>
                </div>
            </div>
        </div>
    </section>

    <!-- باقي الأقسام الأصلية -->
    <!-- Blood Components Section -->
    <section class="components-section" id="components">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="components_title">Blood Components and Their Functions</h2>
            </div>
            <div class="components-grid">
                <div class="component-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="component-animation">
                        <div class="animated-rbc"></div>
                    </div>
                    <h3 data-translate="component_rbc">Red Blood Cells (RBCs)</h3>
                    <p data-translate="component_rbc_desc">Carry oxygen from lungs to tissues and carbon dioxide back to lungs. Contain hemoglobin.</p>
                    <div class="component-details">
                        <span data-translate="component_rbc_count">Count: 4.5-6.0 million/μL</span>
                        <span data-translate="component_rbc_life">Lifespan: 120 days</span>
                    </div>
                </div>
                <div class="component-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="component-animation">
                        <div class="animated-wbc"></div>
                    </div>
                    <h3 data-translate="component_wbc">White Blood Cells (WBCs)</h3>
                    <p data-translate="component_wbc_desc">Fight infections and foreign invaders. Part of the immune system.</p>
                    <div class="component-details">
                        <span data-translate="component_wbc_count">Count: 4,000-11,000/μL</span>
                        <span data-translate="component_wbc_types">Types: Neutrophils, Lymphocytes, etc.</span>
                    </div>
                </div>
                <div class="component-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="component-animation">
                        <div class="animated-platelet"></div>
                    </div>
                    <h3 data-translate="component_platelets">Platelets</h3>
                    <p data-translate="component_platelets_desc">Help in blood clotting and wound healing. Prevent excessive bleeding.</p>
                    <div class="component-details">
                        <span data-translate="component_platelets_count">Count: 150,000-450,000/μL</span>
                        <span data-translate="component_platelets_life">Lifespan: 8-10 days</span>
                    </div>
                </div>
                <div class="component-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="component-animation">
                        <div class="blood-flow" style="width: 100px; height: 60px;"></div>
                    </div>
                    <h3 data-translate="component_plasma">Plasma</h3>
                    <p data-translate="component_plasma_desc">Liquid component carrying cells, nutrients, hormones, and waste products.</p>
                    <div class="component-details">
                        <span data-translate="component_plasma_percent">55% of blood volume</span>
                        <span data-translate="component_plasma_content">Contains proteins, electrolytes</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- باقي الأقسام الأصلية -->
    <!-- Medical Equipment Section -->
    <section class="science-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="equipment_title">Medical Equipment for Blood Analysis</h2>
            </div>
            <div class="science-grid">
                <div class="science-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="centrifuge"></div>
                    <h3 data-translate="equipment_centrifuge">Centrifuge</h3>
                    <p data-translate="equipment_centrifuge_desc">Spins blood samples at high speed to separate components based on density.</p>
                    <div class="equipment-uses">
                        <span data-translate="equipment_centrifuge_use1">Separates plasma from cells</span>
                        <span data-translate="equipment_centrifuge_use2">Prepares samples for testing</span>
                    </div>
                </div>
                <div class="science-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="microscope-animated"></div>
                    <h3 data-translate="equipment_microscope">Microscope</h3>
                    <p data-translate="equipment_microscope_desc">Examines blood cells for abnormalities, counts, and morphology.</p>
                    <div class="equipment-uses">
                        <span data-translate="equipment_microscope_use1">Identifies cell types</span>
                        <span data-translate="equipment_microscope_use2">Detects abnormalities</span>
                    </div>
                </div>
                <div class="science-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="test-tube" style="margin: 0 auto 2rem;"></div>
                    <h3 data-translate="equipment_analyzer">Blood Analyzer</h3>
                    <p data-translate="equipment_analyzer_desc">Automated machines that perform complete blood counts and other tests.</p>
                    <div class="equipment-uses">
                        <span data-translate="equipment_analyzer_use1">Measures cell counts</span>
                        <span data-translate="equipment_analyzer_use2">Analyzes blood chemistry</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- باقي الأقسام الأصلية -->
    <!-- Anemia and Hemoglobin Section -->
    <section class="condition-section" id="conditions">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="conditions_title">Blood Conditions: Anemia and Hemoglobin Disorders</h2>
            </div>
            <div class="condition-grid">
                <div class="condition-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="condition-animation">
                        <div class="animated-rbc" style="background: radial-gradient(circle, #fca5a5, #ef4444);"></div>
                    </div>
                    <h3 data-translate="anemia_iron">Iron Deficiency Anemia</h3>
                    <p data-translate="anemia_iron_desc">Most common type. Caused by insufficient iron for hemoglobin production.</p>
                    <div class="condition-details">
                        <span data-translate="anemia_iron_symptoms">Fatigue, weakness, pale skin</span>
                        <span data-translate="anemia_iron_treatment">Iron supplements, diet changes</span>
                    </div>
                </div>
                <div class="condition-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="condition-animation">
                        <div class="animated-rbc" style="background: radial-gradient(circle, #fcd34d, #f59e0b); animation: rbc-float 3s ease-in-out infinite;"></div>
                    </div>
                    <h3 data-translate="anemia_vitamin">Vitamin Deficiency Anemia</h3>
                    <p data-translate="anemia_vitamin_desc">Lack of B12 or folate affects red blood cell production.</p>
                    <div class="condition-details">
                        <span data-translate="anemia_vitamin_symptoms">Tingling, muscle weakness</span>
                        <span data-translate="anemia_vitamin_treatment">B12 injections, supplements</span>
                    </div>
                </div>
                <div class="condition-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="condition-animation">
                        <div class="animated-rbc" style="background: conic-gradient(from 0deg, #dc2626, #b91c1c, #dc2626); animation: rotate 4s linear infinite;"></div>
                    </div>
                    <h3 data-translate="hemoglobin_s">Sickle Cell Anemia</h3>
                    <p data-translate="hemoglobin_s_desc">Genetic disorder causing abnormal hemoglobin and crescent-shaped RBCs.</p>
                    <div class="condition-details">
                        <span data-translate="hemoglobin_s_symptoms">Pain crises, infections</span>
                        <span data-translate="hemoglobin_s_treatment">Pain management, transfusions</span>
                    </div>
                </div>
                <div class="condition-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="condition-animation">
                        <div class="animated-rbc" style="background: radial-gradient(circle, #93c5fd, #3b82f6);"></div>
                    </div>
                    <h3 data-translate="thalassemia">Thalassemia</h3>
                    <p data-translate="thalassemia_desc">Genetic disorder affecting hemoglobin production, leading to anemia.</p>
                    <div class="condition-details">
                        <span data-translate="thalassemia_symptoms">Fatigue, bone deformities</span>
                        <span data-translate="thalassemia_treatment">Blood transfusions, chelation</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pregnancy and Marriage Testing Section -->
    <section class="testing-section" id="testing">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="testing_title">Essential Blood Testing for Health</h2>
            </div>
            <div class="testing-cards">
                <div class="testing-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="testing-animation">
                        <div class="blood-cell" style="background: radial-gradient(circle, #f472b6, #ec4899);"></div>
                    </div>
                    <h3 data-translate="testing_pregnancy">Pregnancy Blood Tests</h3>
                    <p data-translate="testing_pregnancy_desc">Critical for identifying blood type incompatibilities that could affect the baby.</p>
                    <div class="testing-details">
                        <span data-translate="testing_pregnancy_rh">Rh factor testing</span>
                        <span data-translate="testing_pregnancy_antibody">Antibody screening</span>
                        <span data-translate="testing_pregnancy_importance">Prevents hemolytic disease in newborns</span>
                    </div>
                </div>
                <div class="testing-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="testing-animation">
                        <div class="blood-cell" style="background: radial-gradient(circle, #a78bfa, #8b5cf6);"></div>
                    </div>
                    <h3 data-translate="testing_marriage">Pre-Marriage Blood Testing</h3>
                    <p data-translate="testing_marriage_desc">Identifies potential genetic blood disorders that could affect future children.</p>
                    <div class="testing-details">
                        <span data-translate="testing_marriage_thalassemia">Thalassemia screening</span>
                        <span data-translate="testing_marriage_sickle">Sickle cell trait testing</span>
                        <span data-translate="testing_marriage_importance">Prevents genetic disorders in offspring</span>
                    </div>
                </div>
                <div class="testing-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="testing-animation">
                        <div class="blood-flow" style="width: 120px; height: 80px;"></div>
                    </div>
                    <h3 data-translate="testing_routine">Routine Health Screening</h3>
                    <p data-translate="testing_routine_desc">Regular blood tests help detect conditions early and monitor overall health.</p>
                    <div class="testing-details">
                        <span data-translate="testing_routine_cbc">Complete Blood Count (CBC)</span>
                        <span data-translate="testing_routine_cholesterol">Cholesterol levels</span>
                        <span data-translate="testing_routine_importance">Early detection saves lives</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blood Donation Section -->
    <section class="donation-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="donation_title">The Blood Donation Process</h2>
            </div>
            <div class="donation-steps">
                <div class="donation-step" data-aos="fade-up" data-aos-delay="100">
                    <div class="step-number">1</div>
                    <h3 data-translate="donation_step1">Registration</h3>
                    <p data-translate="donation_step1_desc">Provide basic information and complete health history questionnaire.</p>
                </div>
                <div class="donation-step" data-aos="fade-up" data-aos-delay="200">
                    <div class="step-number">2</div>
                    <h3 data-translate="donation_step2">Health Check</h3>
                    <p data-translate="donation_step2_desc">Quick check of pulse, blood pressure, temperature, and hemoglobin level.</p>
                </div>
                <div class="donation-step" data-aos="fade-up" data-aos-delay="300">
                    <div class="step-number">3</div>
                    <h3 data-translate="donation_step3">Donation</h3>
                    <p data-translate="donation_step3_desc">Actual blood collection takes about 8-10 minutes for a whole blood donation.</p>
                </div>
                <div class="donation-step" data-aos="fade-up" data-aos-delay="400">
                    <div class="step-number">4</div>
                    <h3 data-translate="donation_step4">Recovery</h3>
                    <p data-translate="donation_step4_desc">Rest for 10-15 minutes and enjoy refreshments to help your body recover.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Inspiring Stories Section -->
    <section class="stories-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="stories_title">Inspiring Stories</h2>
                <p data-translate="stories_subtitle">Learn about success stories and the positive impact of blood donation</p>
            </div>
            
            <div class="story-timeline" data-aos="fade-up">
                <div class="story-item">
                    <div class="story-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 data-translate="story1_title">Ahmed and Child Mohammed</h3>
                    <p data-translate="story1_content">Thanks to Ahmed's blood donation, the life of child Mohammed who was suffering from sickle cell anemia was saved. Regular donations helped Mohammed continue his treatment and improve his quality of life.</p>
                    <small data-translate="story1_date">3 months ago</small>
                </div>
                
                <div class="story-item">
                    <div class="story-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 data-translate="story2_title">Samira and Her Mother</h3>
                    <p data-translate="story2_content">When Samira's mother needed open heart surgery, 12 donors contributed to providing the necessary blood for the operation. Today, the mother lives a normal life thanks to the generosity of the donors.</p>
                    <small data-translate="story2_date">6 months ago</small>
                </div>
                
                <div class="story-item">
                    <div class="story-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 data-translate="story3_title">Company Donation Team</h3>
                    <p data-translate="story3_content">Employees of the technology company organized a blood donation campaign that helped save 45 people in one month. The campaign became an annual tradition in the company.</p>
                    <small data-translate="story3_date">1 year ago</small>
                </div>
            </div>
        </div>
    </section>

    <!-- باقي الأقسام الأصلية -->
    <!-- Enhanced Interactive Lab -->
    <section class="interactive-lab">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="lab_title">Advanced Interactive Laboratory</h2>
            </div>
            <div class="lab-container" data-aos="zoom-in">
                <div class="microscope" onclick="startAdvancedLabExperiment()">
                    <i class="fas fa-microscope"></i>
                </div>
                <h3 style="text-align: center; margin-bottom: 2rem;" data-translate="lab_desc">Click on the microscope to start advanced blood analysis simulation</h3>
                
                <div class="lab-controls">
                    <button class="cta-button" onclick="addAntibody('Anti-A')" data-translate="lab_anti_a">Add Anti-A</button>
                    <button class="cta-button" onclick="addAntibody('Anti-B')" data-translate="lab_anti_b">Add Anti-B</button>
                    <button class="cta-button" onclick="addAntibody('Anti-D')" data-translate="lab_anti_d">Add Anti-D</button>
                </div>
                
                <div id="labResults" style="text-align: center; margin-top: 2rem;">
                    <div id="reactionResults"></div>
                    <div id="bloodTypeConclusion" style="display: none; margin-top: 1rem;">
                        <h4 data-translate="lab_result">Analysis Result: Blood Type <span id="advancedBloodResult">-</span></h4>
                        <p id="resultExplanation"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Statistics Section -->
    <section class="statistics">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="stats_title">Global Statistics and Facts</h2>
            </div>
            <div class="stats-grid">
                <div class="stat-item" data-aos="fade-up" data-aos-delay="100">
                    <div class="stat-number" id="stat1">0</div>
                    <div class="stat-label" data-translate="stat1_label">Major and minor blood types</div>
                </div>
                <div class="stat-item" data-aos="fade-up" data-aos-delay="200">
                    <div class="stat-number" id="stat2">0</div>
                    <div class="stat-label" data-translate="stat2_label">Blood donor saves 3 people</div>
                </div>
                <div class="stat-item" data-aos="fade-up" data-aos-delay="300">
                    <div class="stat-number" id="stat3">0</div>
                    <div class="stat-label" data-translate="stat3_label">Known antigen systems</div>
                </div>
                <div class="stat-item" data-aos="fade-up" data-aos-delay="400">
                    <div class="stat-number" id="stat4">0%</div>
                    <div class="stat-label" data-translate="stat4_label">Accuracy of modern analyses</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Us Section -->
    <section class="contact-section" id="contact">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2 data-translate="contact_title">Contact Us</h2>
                <p data-translate="contact_subtitle">Get in touch with our team of experts for any inquiries or assistance</p>
            </div>
            
            <div class="contact-container" data-aos="fade-up">
                <div class="contact-info">
                    <h3 data-translate="contact_info">Contact Information</h3>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <h4 data-translate="contact_address_title">Our Address</h4>
                            <p data-translate="contact_address">20 streat Center, Diwaniyah, Iraq</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <h4 data-translate="contact_phone_title">Call Us</h4>
                            <p data-translate="contact_phone">+964 7815472824</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <h4 data-translate="contact_email_title">Email Us</h4>
                            <p data-translate="contact_email">lummul209@gmail.com</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h4 data-translate="contact_hours_title">Working Hours</h4>
                            <p data-translate="contact_hours">Sunday - Thursday: 8:00 AM - 6:00 PM</p>
                        </div>
                    </div>
                    
                    <div class="map-container">
                        <div class="map-placeholder">
                            <i class="fas fa-map-marked-alt"></i>
                            <span data-translate="map_text">Interactive Map Location</span>
                        </div>
                    </div>
                </div>
                
                <div class="contact-form">
                    <h3 data-translate="contact_form_title">Send Us a Message</h3>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name" data-translate="form_name">Full Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email" data-translate="form_email">Email Address</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone" data-translate="form_phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                        <div class="form-group">
                            <label for="subject" data-translate="form_subject">Subject</label>
                            <select id="subject" name="subject" required>
                                <option value="" data-translate="form_select">Select a subject</option>
                                <option value="general" data-translate="form_general">General Inquiry</option>
                                <option value="donation" data-translate="form_donation">Blood Donation</option>
                                <option value="appointment" data-translate="form_appointment">Appointment</option>
                                <option value="emergency" data-translate="form_emergency">Emergency</option>
                                <option value="other" data-translate="form_other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message" data-translate="form_message">Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn" data-translate="form_submit">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-translate="footer_about">Blood Center</h3>
                    <p data-translate="footer_about_desc">Comprehensive scientific platform dedicated to understanding blood type analysis and its medical problems and scientific solutions.</p>
                </div>
                
                <div class="footer-section">
                    <h3 data-translate="footer_links">Site Sections</h3>
                    <ul>
                        <li><a href="#science" data-translate="nav_science">The Science</a></li>
                        <li><a href="#types" data-translate="nav_types">Blood Types</a></li>
                        <li><a href="#compatibility" data-translate="nav_compatibility">Compatibility</a></li>
                        <li><a href="#testing" data-translate="nav_testing">Health Testing</a></li>
                        <li><a href="#contact" data-translate="nav_contact">Contact Us</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 data-translate="footer_contact">Contact Information</h3>
                    <ul>
                        <li><i class="fas fa-envelope"></i> lummul209@bgmail.com</li>
                        <li><i class="fas fa-phone"></i> +964 7815472824</li>
                        <li><i class="fas fa-map-marker-alt"></i> <span data-translate="footer_location">Diwaniyah, Iraq</span></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 Blood Center. <span data-translate="footer_rights">All rights reserved -  scientific platform</span></p>
            </div>
        </div>
    </footer>

    <!-- JavaScript & AOS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100
        });

        // Enhanced Translation System
        const translations = {
            en: {
                // Navigation
                site_name: "Blood Center",
                site_slogan: "Comprehensive Science of Blood Types and Analysis",
                nav_home: "Home",
                nav_science: "The Science",
                nav_types: "Blood Types",
                nav_compatibility: "Compatibility",
                nav_testing: "Health Testing",
                nav_donation: "Donation",
                nav_contact: "Contact Us",
                
                // Hero
                hero_title: "Discover the World of Blood Types",
                hero_subtitle: "Specialized center for understanding blood type analysis, its problems, and scientific solutions. Dive into the world of genetics and precision medicine",
                
                // Science Section
                science_title: "The Science Behind Blood Type Analysis",
                science1_title: "Advanced Genetic Basis",
                science1_desc: "Blood types are inherited through multiple systems: ABO, Rh, Kell, Duffy. Each system determines unique antigens on red blood cell surfaces.",
                science1_problem: "Problem: Rare genetic mutations may cause unexpected results",
                science1_solution: "Solution: Using advanced genetic analysis to detect mutations",
                
                science2_title: "Advanced Laboratory Techniques",
                science2_desc: "From traditional methods to full automation, includes: gel methods, monoclonal antibodies, and molecular analysis.",
                science2_problem: "Problem: Sample mix-ups in busy laboratories",
                science2_solution: "Solution: Barcode tracking systems and periodic quality control",
                
                science3_title: "Comprehensive Medical Applications",
                science3_desc: "Includes: open-heart surgery, organ transplants, cancer treatment, and high-risk pregnancy care.",
                science3_problem: "Problem: Shortage of rare blood in emergencies",
                science3_solution: "Solution: Regional blood banks and rapid donation networks",
                
                // Blood Types Section
                types_title: "Main Blood Types and Rarity",
                type_a_plus: "Type A+",
                type_a_desc: "Antigen A + Rh factor",
                type_a_percent: "~34% of population",
                type_a_donate: "Can donate to: A+, AB+",
                type_a_receive: "Can receive from: A+, A-, O+, O-",
                
                type_o_minus: "Type O-",
                type_o_desc: "Universal Donor",
                type_o_percent: "~7% of population",
                type_o_donate: "Can donate to: All blood types",
                type_o_receive: "Can receive from: O- only",
                
                type_ab_plus: "Type AB+",
                type_ab_desc: "Universal Recipient",
                type_ab_percent: "~3% of population",
                type_ab_donate: "Can donate to: AB+ only",
                type_ab_receive: "Can receive from: All blood types",
                
                type_b_minus: "Type B-",
                type_b_desc: "Rare and Important",
                type_b_percent: "~2% of population",
                type_b_donate: "Can donate to: B+, B-, AB+, AB-",
                type_b_receive: "Can receive from: B-, O-",
                
                // Blood Compatibility Section
                compatibility_title: "Blood Type Compatibility Simulator",
                compatibility_subtitle: "Test blood type compatibility for donation and reception",
                donor_type: "Donor Blood Type",
                recipient_type: "Recipient Blood Type",
                check_compatibility: "Check Compatibility",
                
                // Donation Calculator
                calculator_title: "Smart Donation Tool",
                calculator_subtitle: "Calculate your donation impact and next donation dates",
                last_donation: "Last Donation Date",
                your_blood_type: "Your Blood Type",
                calculate_donation: "Calculate Donation",
                
                // Map Section
                map_title: "Nearby Blood Donation Centers",
                map_subtitle: "Find the closest blood donation center in your area",
                map_loading: "Loading donation centers map...",
                map_instruction: "Your location will be automatically detected to show nearby centers",
                
                // Appointment Section
                appointment_title: "Book a Blood Donation Appointment",
                appointment_subtitle: "Book your appointment in advance to save time and effort",
                donation_center: "Donation Center",
                appointment_date: "Appointment Date",
                appointment_time: "Appointment Time",
                book_appointment: "Book Appointment",
                appointment_success: "Appointment booked successfully!",
                appointment_instructions: "A confirmation will be sent via email and SMS",
                center1: "Main Center - Diwaniyah",
                center2: "Diwaniyah Teaching Hospital",
                center3: "Blood Donation Center - Industrial Area",
                
                // Stories Section
                stories_title: "Inspiring Stories",
                stories_subtitle: "Learn about success stories and the positive impact of blood donation",
                story1_title: "Ahmed and Child Mohammed",
                story1_content: "Thanks to Ahmed's blood donation, the life of child Mohammed who was suffering from sickle cell anemia was saved. Regular donations helped Mohammed continue his treatment and improve his quality of life.",
                story1_date: "3 months ago",
                story2_title: "Samira and Her Mother",
                story2_content: "When Samira's mother needed open heart surgery, 12 donors contributed to providing the necessary blood for the operation. Today, the mother lives a normal life thanks to the generosity of the donors.",
                story2_date: "6 months ago",
                story3_title: "Company Donation Team",
                story3_content: "Employees of the technology company organized a blood donation campaign that helped save 45 people in one month. The campaign became an annual tradition in the company.",
                story3_date: "1 year ago",
                
                // Additional blood types
                type_a_minus: "A-",
                type_b_plus: "B+",
                type_ab_minus: "AB-",
                type_o_plus: "O+",
                type_unknown: "Unknown",
                
                // باقي الترجمات الأصلية
                // Blood Components Section
                components_title: "Blood Components and Their Functions",
                component_rbc: "Red Blood Cells (RBCs)",
                component_rbc_desc: "Carry oxygen from lungs to tissues and carbon dioxide back to lungs. Contain hemoglobin.",
                component_rbc_count: "Count: 4.5-6.0 million/μL",
                component_rbc_life: "Lifespan: 120 days",
                
                component_wbc: "White Blood Cells (WBCs)",
                component_wbc_desc: "Fight infections and foreign invaders. Part of the immune system.",
                component_wbc_count: "Count: 4,000-11,000/μL",
                component_wbc_types: "Types: Neutrophils, Lymphocytes, etc.",
                
                component_platelets: "Platelets",
                component_platelets_desc: "Help in blood clotting and wound healing. Prevent excessive bleeding.",
                component_platelets_count: "Count: 150,000-450,000/μL",
                component_platelets_life: "Lifespan: 8-10 days",
                
                component_plasma: "Plasma",
                component_plasma_desc: "Liquid component carrying cells, nutrients, hormones, and waste products.",
                component_plasma_percent: "55% of blood volume",
                component_plasma_content: "Contains proteins, electrolytes",
                
                // Medical Equipment Section
                equipment_title: "Medical Equipment for Blood Analysis",
                equipment_centrifuge: "Centrifuge",
                equipment_centrifuge_desc: "Spins blood samples at high speed to separate components based on density.",
                equipment_centrifuge_use1: "Separates plasma from cells",
                equipment_centrifuge_use2: "Prepares samples for testing",
                
                equipment_microscope: "Microscope",
                equipment_microscope_desc: "Examines blood cells for abnormalities, counts, and morphology.",
                equipment_microscope_use1: "Identifies cell types",
                equipment_microscope_use2: "Detects abnormalities",
                
                equipment_analyzer: "Blood Analyzer",
                equipment_analyzer_desc: "Automated machines that perform complete blood counts and other tests.",
                equipment_analyzer_use1: "Measures cell counts",
                equipment_analyzer_use2: "Analyzes blood chemistry",
                
                // Conditions Section
                conditions_title: "Blood Conditions: Anemia and Hemoglobin Disorders",
                anemia_iron: "Iron Deficiency Anemia",
                anemia_iron_desc: "Most common type. Caused by insufficient iron for hemoglobin production.",
                anemia_iron_symptoms: "Fatigue, weakness, pale skin",
                anemia_iron_treatment: "Iron supplements, diet changes",
                
                anemia_vitamin: "Vitamin Deficiency Anemia",
                anemia_vitamin_desc: "Lack of B12 or folate affects red blood cell production.",
                anemia_vitamin_symptoms: "Tingling, muscle weakness",
                anemia_vitamin_treatment: "B12 injections, supplements",
                
                hemoglobin_s: "Sickle Cell Anemia",
                hemoglobin_s_desc: "Genetic disorder causing abnormal hemoglobin and crescent-shaped RBCs.",
                hemoglobin_s_symptoms: "Pain crises, infections",
                hemoglobin_s_treatment: "Pain management, transfusions",
                
                thalassemia: "Thalassemia",
                thalassemia_desc: "Genetic disorder affecting hemoglobin production, leading to anemia.",
                thalassemia_symptoms: "Fatigue, bone deformities",
                thalassemia_treatment: "Blood transfusions, chelation",
                
                // Testing Section
                testing_title: "Essential Blood Testing for Health",
                testing_pregnancy: "Pregnancy Blood Tests",
                testing_pregnancy_desc: "Critical for identifying blood type incompatibilities that could affect the baby.",
                testing_pregnancy_rh: "Rh factor testing",
                testing_pregnancy_antibody: "Antibody screening",
                testing_pregnancy_importance: "Prevents hemolytic disease in newborns",
                
                testing_marriage: "Pre-Marriage Blood Testing",
                testing_marriage_desc: "Identifies potential genetic blood disorders that could affect future children.",
                testing_marriage_thalassemia: "Thalassemia screening",
                testing_marriage_sickle: "Sickle cell trait testing",
                testing_marriage_importance: "Prevents genetic disorders in offspring",
                
                testing_routine: "Routine Health Screening",
                testing_routine_desc: "Regular blood tests help detect conditions early and monitor overall health.",
                testing_routine_cbc: "Complete Blood Count (CBC)",
                testing_routine_cholesterol: "Cholesterol levels",
                testing_routine_importance: "Early detection saves lives",
                
                // Donation Section
                donation_title: "The Blood Donation Process",
                donation_step1: "Registration",
                donation_step1_desc: "Provide basic information and complete health history questionnaire.",
                donation_step2: "Health Check",
                donation_step2_desc: "Quick check of pulse, blood pressure, temperature, and hemoglobin level.",
                donation_step3: "Donation",
                donation_step3_desc: "Actual blood collection takes about 8-10 minutes for a whole blood donation.",
                donation_step4: "Recovery",
                donation_step4_desc: "Rest for 10-15 minutes and enjoy refreshments to help your body recover.",
                
                // Contact Section
                contact_title: "Contact Us",
                contact_subtitle: "Get in touch with our team of experts for any inquiries or assistance",
                contact_info: "Contact Information",
                contact_address_title: "Our Address",
                contact_address: "20 streat Center, Diwaniyah, Iraq",
                contact_phone_title: "Call Us",
                contact_phone: "+964 7815472824",
                contact_email_title: "Email Us",
                contact_email: "lummul209@gmail.com",
                contact_hours_title: "Working Hours",
                contact_hours: "Sunday - Thursday: 8:00 AM - 6:00 PM",
                contact_form_title: "Send Us a Message",
                form_name: "Full Name",
                form_email: "Email Address",
                form_phone: "Phone Number",
                form_subject: "Subject",
                form_select: "Select a subject",
                form_general: "General Inquiry",
                form_donation: "Blood Donation",
                form_appointment: "Appointment",
                form_emergency: "Emergency",
                form_other: "Other",
                form_message: "Message",
                form_submit: "Send Message",
                map_text: "Interactive Map Location",
                
                // Lab Section
                lab_title: "Advanced Interactive Laboratory",
                lab_desc: "Click on the microscope to start advanced blood analysis simulation",
                lab_anti_a: "Add Anti-A",
                lab_anti_b: "Add Anti-B",
                lab_anti_d: "Add Anti-D",
                lab_result: "Analysis Result: Blood Type",
                
                // Statistics Section
                stats_title: "Global Statistics and Facts",
                stat1_label: "Major and minor blood types",
                stat2_label: "Blood donor saves 3 people",
                stat3_label: "Known antigen systems",
                stat4_label: "Accuracy of modern analyses",
                
                // Footer
                footer_about: "Blood Center",
                footer_about_desc: "Comprehensive scientific platform dedicated to understanding blood type analysis and its medical problems and scientific solutions.",
                footer_links: "Site Sections",
                footer_contact: "Contact Information",
                footer_location: "Diwaniyah, Iraq",
                footer_rights: "All rights reserved - scientific platform"
            },
            ar: {
                // Navigation
                site_name: "مركز الدم",
                site_slogan: "العلم الشامل لفصائل الدم وتحليلها",
                nav_home: "الرئيسية",
                nav_science: "العلم",
                nav_types: "فصائل الدم",
                nav_compatibility: "التوافق",
                nav_testing: "فحوصات صحية",
                nav_donation: "التبرع",
                nav_contact: "اتصل بنا",
                
                // Hero
                hero_title: "اكتشف عالم فصائل الدم",
                hero_subtitle: "مركز متخصص لفهم تحاليل فصائل الدم، مشاكلها، وحلولها العلمية. تعمق في عالم الوراثة والطب الدقيق",
                
                // Science Section
                science_title: "العلم وراء تحليل فصائل الدم",
                science1_title: "الأساس الوراثي المتقدم",
                science1_desc: "فصائل الدم تورث عبر أنظمة متعددة: ABO، Rh، Kell، Duffy. كل نظام يحدد مستضدات فريدة على سطح خلايا الدم الحمراء.",
                science1_problem: "المشكلة: طفرات جينية نادرة قد تسبب نتائج غير متوقعة",
                science1_solution: "الحل: استخدام تحاليل جينية متقدمة للكشف عن الطفرات",
                
                science2_title: "التقنيات المخبرية المتطورة",
                science2_desc: "من التقنيات التقليدية إلى الأتمتة الكاملة، تشمل الطرق: الهلام، الأجسام المضادة الأحادية، والتحاليل الجزيئية.",
                science2_problem: "المشكلة: تداخل العينات في المختبرات المزدحمة",
                science2_solution: "الحل: أنظمة تتبع بالباركود ومراقبة الجودة الدورية",
                
                science3_title: "التطبيقات الطبية الشاملة",
                science3_desc: "تشمل: جراحات القلب المفتوح، زراعة الأعضاء، علاج السرطان، ورعاية الحوامل عالية الخطورة.",
                science3_problem: "المشكلة: نقص الدم النادر في حالات الطوارئ",
                science3_solution: "الحل: بنوك الدم الإقليمية وشبكات التبرع السريع",
                
                // Blood Types Section
                types_title: "فصائل الدم الرئيسية والندرة",
                type_a_plus: "فصيلة A+",
                type_a_desc: "المستضد A + عامل Rh",
                type_a_percent: "~34% من السكان",
                type_a_donate: "يمكن التبرع لـ: A+, AB+",
                type_a_receive: "يمكن الاستلام من: A+, A-, O+, O-",
                
                type_o_minus: "فصيلة O-",
                type_o_desc: "المانح العام",
                type_o_percent: "~7% من السكان",
                type_o_donate: "يمكن التبرع لـ: جميع الفصائل",
                type_o_receive: "يمكن الاستلام من: O- فقط",
                
                type_ab_plus: "فصيلة AB+",
                type_ab_desc: "المستلم العام",
                type_ab_percent: "~3% من السكان",
                type_ab_donate: "يمكن التبرع لـ: AB+ فقط",
                type_ab_receive: "يمكن الاستلام من: جميع الفصائل",
                
                type_b_minus: "فصيلة B-",
                type_b_desc: "نادرة ومهمة",
                type_b_percent: "~2% من السكان",
                type_b_donate: "يمكن التبرع لـ: B+, B-, AB+, AB-",
                type_b_receive: "يمكن الاستلام من: B-, O-",
                
                // Blood Compatibility Section
                compatibility_title: "محاكي توافق فصائل الدم",
                compatibility_subtitle: "اختبر توافق فصائل الدم للتبرع والاستقبال",
                donor_type: "فصيلة الدم المانحة",
                recipient_type: "فصيلة الدم المستقبلة",
                check_compatibility: "فحص التوافق",
                
                // Donation Calculator
                calculator_title: "أداة التبرع الذكية",
                calculator_subtitle: "احسب تأثير تبرعك ومواعيد التبرع المقبلة",
                last_donation: "تاريخ آخر تبرع",
                your_blood_type: "فصيلة دمك",
                calculate_donation: "حساب التبرع",
                
                // Map Section
                map_title: "مراكز التبرع بالدم القريبة",
                map_subtitle: "ابحث عن أقرب مركز للتبرع بالدم في منطقتك",
                map_loading: "جاري تحميل خريطة مراكز التبرع...",
                map_instruction: "سيتم تحديد موقعك تلقائياً لعرض المراكز القريبة",
                
                // Appointment Section
                appointment_title: "حجز موعد للتبرع بالدم",
                appointment_subtitle: "احجز موعدك مسبقاً لتوفير الوقت والجهد",
                donation_center: "مركز التبرع",
                appointment_date: "تاريخ الموعد",
                appointment_time: "وقت الموعد",
                book_appointment: "حجز الموعد",
                appointment_success: "تم حجز الموعد بنجاح!",
                appointment_instructions: "سيتم إرسال تأكيد بالبريد الإلكتروني والرسائل النصية",
                center1: "المركز الرئيسي - الديوانية",
                center2: "مستشفى الديوانية التعليمي",
                center3: "مركز التبرع بالدم - الحي الصناعي",
                
                // Stories Section
                stories_title: "قصص ملهمة",
                stories_subtitle: "تعرف على قصص النجاح والأثر الإيجابي للتبرع بالدم",
                story1_title: "أحمد والطفل محمد",
                story1_content: "بفضل تبرع أحمد بالدم، تم إنقاذ حياة الطفل محمد الذي كان يعاني من فقر الدم المنجلي. التبرع المنتظم ساعد محمد على مواصلة علاجه وتحسين نوعية حياته.",
                story1_date: "منذ 3 أشهر",
                story2_title: "سميرة وأمها",
                story2_content: "عندما احتاجت والدة سميرة إلى عملية قلب مفتوح، ساهم 12 متبرعاً في توفير الدم اللازم للعملية. اليوم، تعيش الأم حياة طبيعية بفضل كرم المتبرعين.",
                story2_date: "منذ 6 أشهر",
                story3_title: "فريق التبرع في الشركة",
                story3_content: "نظم موظفو شركة التقنية حملة تبرع بالدم ساهمت في إنقاذ 45 شخصاً خلال شهر واحد. أصبحت الحملة تقليداً سنوياً في الشركة.",
                story3_date: "منذ سنة",
                
                // Additional blood types
                type_a_minus: "A-",
                type_b_plus: "B+",
                type_ab_minus: "AB-",
                type_o_plus: "O+",
                type_unknown: "غير معروفة",
                
                // باقي الترجمات الأصلية
                // Blood Components Section
                components_title: "مكونات الدم ووظائفها",
                component_rbc: "خلايا الدم الحمراء",
                component_rbc_desc: "تنقل الأكسجين من الرئتين إلى الأنسجة وثاني أكسيد الكربون إلى الرئتين. تحتوي على الهيموغلوبين.",
                component_rbc_count: "العدد: 4.5-6.0 مليون/ميكرولتر",
                component_rbc_life: "العمر: 120 يوم",
                
                component_wbc: "خلايا الدم البيضاء",
                component_wbc_desc: "تحارب العدوى والاجسام الغريبة. جزء من الجهاز المناعي.",
                component_wbc_count: "العدد: 4,000-11,000/ميكرولتر",
                component_wbc_types: "الأنواع: العدلات، الخلايا الليمفاوية، إلخ",
                
                component_platelets: "الصفائح الدموية",
                component_platelets_desc: "تساعد في تخثر الدم وشفاء الجروح. تمنع النزيف المفرط.",
                component_platelets_count: "العدد: 150,000-450,000/ميكرولتر",
                component_platelets_life: "العمر: 8-10 أيام",
                
                component_plasma: "البلازما",
                component_plasma_desc: "المكون السائل الذي يحمل الخلايا، المغذيات، الهرمونات، ومنتجات النفايات.",
                component_plasma_percent: "55% من حجم الدم",
                component_plasma_content: "تحتوي على بروتينات، كهارل",
                
                // Medical Equipment Section
                equipment_title: "الأجهزة الطبية لتحليل الدم",
                equipment_centrifuge: "الطرد المركزي",
                equipment_centrifuge_desc: "يدور عينات الدم بسرعة عالية لفصل المكونات بناءً على الكثافة.",
                equipment_centrifuge_use1: "يفصل البلازما عن الخلايا",
                equipment_centrifuge_use2: "يجهز العينات للفحص",
                
                equipment_microscope: "المجهر",
                equipment_microscope_desc: "يفحص خلايا الدم للشذوذ، العدود، والتشكل.",
                equipment_microscope_use1: "يحدد أنواع الخلايا",
                equipment_microscope_use2: "يكتشف الشذوذ",
                
                equipment_analyzer: "محلل الدم",
                equipment_analyzer_desc: "آلات آلية تقوم بعدد كامل لخلايا الدم وفحوصات أخرى.",
                equipment_analyzer_use1: "يقيس عدد الخلايا",
                equipment_analyzer_use2: "يحلل كيمياء الدم",
                
                // Conditions Section
                conditions_title: "حالات الدم: فقر الدم واضطرابات الهيموغلوبين",
                anemia_iron: "فقر الدم الناجم عن نقص الحديد",
                anemia_iron_desc: "النوع الأكثر شيوعاً. ناتج عن عدم كفاية الحديد لإنتاج الهيموغلوبين.",
                anemia_iron_symptoms: "التعب، الضعف، شحوب الجلد",
                anemia_iron_treatment: "مكملات الحديد، تغييرات النظام الغذائي",
                
                anemia_vitamin: "فقر الدم الناجم عن نقص الفيتامينات",
                anemia_vitamin_desc: "نقص B12 أو الفولات يؤثر على إنتاج خلايا الدم الحمراء.",
                anemia_vitamin_symptoms: "الوخز، ضعف العضلات",
                anemia_vitamin_treatment: "حقن B12، المكملات",
                
                hemoglobin_s: "فقر الدم المنجلي",
                hemoglobin_s_desc: "اضطراب وراثي يسبب هيموغلوبين غير طبيعي وخلايا دم حمراء هلالية الشكل.",
                hemoglobin_s_symptoms: "نوبات الألم، الالتهابات",
                hemoglobin_s_treatment: "إدارة الألم، عمليات نقل الدم",
                
                thalassemia: "الثلاسيميا",
                thalassemia_desc: "اضطراب وراثي يؤثر على إنتاج الهيموغلوبين، مما يؤدي إلى فقر الدم.",
                thalassemia_symptoms: "التعب، تشوهات العظام",
                thalassemia_treatment: "عمليات نقل الدم، العلاج بالاستخلاب",
                
                // Testing Section
                testing_title: "فحوصات الدم الأساسية للصحة",
                testing_pregnancy: "فحوصات دم الحمل",
                testing_pregnancy_desc: "حرجة لتحديد عدم توافق فصائل الدم الذي قد يؤثر على الطفل.",
                testing_pregnancy_rh: "فحص عامل Rh",
                testing_pregnancy_antibody: "فحص الأجسام المضادة",
                testing_pregnancy_importance: "يمنع مرض انحلال الدم في حديثي الولادة",
                
                testing_marriage: "فحوصات الدم قبل الزواج",
                testing_marriage_desc: "تحدد اضطرابات الدم الوراثية المحتملة التي قد تؤثر على الأطفال المستقبليين.",
                testing_marriage_thalassemia: "فحص الثلاسيميا",
                testing_marriage_sickle: "فحص سمة الخلية المنجلية",
                testing_marriage_importance: "يمنع الاضطرابات الوراثية في النسل",
                
                testing_routine: "فحص الصحة الروتيني",
                testing_routine_desc: "فحوصات الدم المنتظمة تساعد في الكشف المبكر عن الحالات ومراقبة الصحة العامة.",
                testing_routine_cbc: "عد الدم الكامل",
                testing_routine_cholesterol: "مستويات الكوليسترول",
                testing_routine_importance: "الكشف المبكر ينقذ الأرواح",
                
                // Donation Section
                donation_title: "عملية التبرع بالدم",
                donation_step1: "التسجيل",
                donation_step1_desc: "تقديم المعلومات الأساسية واستكمال استبيان التاريخ الصحي.",
                donation_step2: "الفحص الصحي",
                donation_step2_desc: "فحص سريع للنبض، ضغط الدم، درجة الحرارة، ومستوى الهيموغلوبين.",
                donation_step3: "التبرع",
                donation_step3_desc: "جمع الدم الفعلي يستغرق حوالي 8-10 دقائق للتبرع بالدم الكامل.",
                donation_step4: "الاسترداد",
                donation_step4_desc: "الراحة لمدة 10-15 دقيقة والاستمتاع بالمشروبات لمساعدة جسمك على التعافي.",
                
                // Contact Section
                contact_title: "اتصل بنا",
                contact_subtitle: "تواصل مع فريق الخبراء لدينا لأي استفسارات أو مساعدة",
                contact_info: "معلومات الاتصال",
                contact_address_title: "عنواننا",
                contact_address: "المستشفى التعليمي، الديوانية العراق",
                contact_phone_title: "اتصل بنا",
                contact_phone: "+964 7815472824",
                contact_email_title: "راسلنا عبر البريد",
                contact_email: "lummul209@gmail.com",
                contact_hours_title: "ساعات العمل",
                contact_hours: "الأحد - الخميس: 8:00 صباحاً - 6:00 مساءً",
                contact_form_title: "أرسل لنا رسالة",
                form_name: "الاسم الكامل",
                form_email: "البريد الإلكتروني",
                form_phone: "رقم الهاتف",
                form_subject: "الموضوع",
                form_select: "اختر موضوعاً",
                form_general: "استفسار عام",
                form_donation: "التبرع بالدم",
                form_appointment: "موعد",
                form_emergency: "حالة طارئة",
                form_other: "أخرى",
                form_message: "الرسالة",
                form_submit: "إرسال الرسالة",
                map_text: "موقع الخريطة التفاعلية",
                
                // Lab Section
                lab_title: "المعمل التفاعلي المتقدم",
                lab_desc: "انقر على المجهر لبدء محاكاة تحليل الدم المتقدم",
                lab_anti_a: "إضافة Anti-A",
                lab_anti_b: "إضافة Anti-B",
                lab_anti_d: "إضافة Anti-D",
                lab_result: "نتيجة التحليل: فصيلة",
                
                // Statistics Section
                stats_title: "إحصائيات وحقائق عالمية",
                stat1_label: "فصيلة دم رئيسية وفرعية",
                stat2_label: "متبرع دم ينقذ 3 أشخاص",
                stat3_label: "نظام مستضدات معروف",
                stat4_label: "دقة التحاليل الحديثة",
                
                // Footer
                footer_about: "مركز الدم",
                footer_about_desc: "منصة علمية شاملة مخصصة لفهم تحاليل فصائل الدم ومشاكلها الطبية وحلولها العلمية.",
                footer_links: "أقسام الموقع",
                footer_contact: "معلومات الاتصال",
                footer_location: "الديوانية، العراق",
                footer_rights: "جميع الحقوق محفوظة - منصة علمية"
            }
        };

        let currentLanguage = 'en';
        let labReactions = {
            'Anti-A': false,
            'Anti-B': false,
            'Anti-D': false
        };

        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
            applyTranslation(currentLanguage);
            updatePageDirection(currentLanguage);
        }

        function applyTranslation(language) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[language] && translations[language][key]) {
                    element.textContent = translations[language][key];
                }
            });
            
            document.getElementById('currentLang').textContent = language === 'en' ? 'English' : 'العربية';
        }

        function updatePageDirection(language) {
            document.body.dir = language === 'en' ? 'ltr' : 'rtl';
            document.body.lang = language;
        }

        // Advanced Interactive Lab
        function startAdvancedLabExperiment() {
            const microscope = document.querySelector('.microscope');
            microscope.style.animation = 'pulse 0.5s ease-in-out 3';
            microscope.innerHTML = '<div class="loading"></div>';
            
            setTimeout(() => {
                microscope.innerHTML = '<i class="fas fa-vial"></i>';
                document.querySelector('.lab-controls').style.display = 'block';
                
                // Reset reactions
                labReactions = { 'Anti-A': false, 'Anti-B': false, 'Anti-D': false };
                document.getElementById('reactionResults').innerHTML = '<p data-translate="lab_start">Add antibodies to start analysis</p>';
                document.getElementById('bloodTypeConclusion').style.display = 'none';
            }, 2000);
        }

        function addAntibody(antibody) {
            labReactions[antibody] = true;
            const reactionDiv = document.getElementById('reactionResults');
            
            let reactionText = '';
            if (antibody === 'Anti-A') {
                reactionText = '<span style="color: var(--danger)" data-translate="lab_react_a">Positive reaction with Anti-A - Presence of antigen A</span><br>';
            } else if (antibody === 'Anti-B') {
                reactionText = '<span style="color: var(--danger)" data-translate="lab_react_b">Positive reaction with Anti-B - Presence of antigen B</span><br>';
            } else if (antibody === 'Anti-D') {
                reactionText = '<span style="color: var(--danger)" data-translate="lab_react_d">Positive reaction with Anti-D - Presence of Rh factor</span><br>';
            }
            
            reactionDiv.innerHTML += reactionText;
            
            // Determine blood type after all antibodies are added
            if (labReactions['Anti-A'] && labReactions['Anti-B'] && labReactions['Anti-D']) {
                determineBloodType();
            }
        }

        function determineBloodType() {
            const hasA = labReactions['Anti-A'];
            const hasB = labReactions['Anti-B'];
            const hasRh = labReactions['Anti-D'];
            
            let bloodType = '';
            let explanation = '';
            
            if (hasA && !hasB && hasRh) {
                bloodType = 'A+';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with Anti-A and Anti-D indicates presence of antigen A and Rh factor' :
                    'التفاعل مع Anti-A و Anti-D يدل على وجود مستضد A وعامل Rh';
            } else if (hasA && !hasB && !hasRh) {
                bloodType = 'A-';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with Anti-A only indicates presence of antigen A without Rh factor' :
                    'التفاعل مع Anti-A فقط يدل على وجود مستضد A بدون عامل Rh';
            } else if (!hasA && hasB && hasRh) {
                bloodType = 'B+';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with Anti-B and Anti-D indicates presence of antigen B and Rh factor' :
                    'التفاعل مع Anti-B و Anti-D يدل على وجود مستضد B وعامل Rh';
            } else if (!hasA && hasB && !hasRh) {
                bloodType = 'B-';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with Anti-B only indicates presence of antigen B without Rh factor' :
                    'التفاعل مع Anti-B فقط يدل على وجود مستضد B بدون عامل Rh';
            } else if (hasA && hasB && hasRh) {
                bloodType = 'AB+';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with all antibodies indicates presence of antigens A, B and Rh factor' :
                    'التفاعل مع جميع الأجسام المضادة يدل على وجود مستضد A و B وعامل Rh';
            } else if (hasA && hasB && !hasRh) {
                bloodType = 'AB-';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with Anti-A and Anti-B only indicates presence of antigens A and B without Rh factor' :
                    'التفاعل مع Anti-A و Anti-B فقط يدل على وجود مستضد A و B بدون عامل Rh';
            } else if (!hasA && !hasB && hasRh) {
                bloodType = 'O+';
                explanation = currentLanguage === 'en' ? 
                    'Reaction with Anti-D only indicates absence of antigens A or B with presence of Rh factor' :
                    'التفاعل مع Anti-D فقط يدل على عدم وجود مستضد A أو B مع وجود عامل Rh';
            } else {
                bloodType = 'O-';
                explanation = currentLanguage === 'en' ? 
                    'No reaction with any antibody indicates absence of antigens A, B or Rh factor' :
                    'عدم التفاعل مع أي جسم مضاد يدل على عدم وجود مستضد A أو B أو عامل Rh';
            }
            
            document.getElementById('advancedBloodResult').textContent = bloodType;
            document.getElementById('resultExplanation').textContent = explanation;
            document.getElementById('bloodTypeConclusion').style.display = 'block';
            
            // Add celebration effect
            const microscope = document.querySelector('.microscope');
            microscope.style.background = 'conic-gradient(from 0deg, #10b981, #34d399, #10b981)';
            microscope.classList.add('pulse');
        }

        // Interactive Blood Cell
        function showGeneticInfo() {
            if (currentLanguage === 'en') {
                alert('ABO Blood Type System:\n• Type A: Antigen A only\n• Type B: Antigen B only\n• Type AB: Both antigens\n• Type O: No antigens');
            } else {
                alert('نظام فصائل الدم ABO:\n• النوع A: مستضد A فقط\n• النوع B: مستضد B فقط\n• النوع AB: كلا المستضدين\n• النوع O: لا مستضدات');
            }
        }

        function showLabTechniques() {
            if (currentLanguage === 'en') {
                alert('Blood Analysis Techniques:\n1. Traditional slide method\n2. Test tube method\n3. Gel technique\n4. Molecular analysis\n5. Full automation');
            } else {
                alert('تقنيات تحليل الدم:\n1. الشريحة التقليدية\n2. أنبوب الاختبار\n3. تقنية الهلام\n4. التحاليل الجزيئية\n5. الأتمتة الكاملة');
            }
        }

        function showTypeDetails(type) {
            const details = {
                'A+': currentLanguage === 'en' ? 
                    'Common type (34%) - Can donate to A+ and AB+' : 
                    'فصيلة شائعة (34%) - يمكن التبرع لـ A+ و AB+',
                'O-': currentLanguage === 'en' ? 
                    'Universal donor (7%) - Can donate to all blood types' : 
                    'المانح العام (7%) - يمكن التبرع لجميع الفصائل',
                'AB+': currentLanguage === 'en' ? 
                    'Universal recipient (3%) - Can receive from all blood types' : 
                    'المستلم العام (3%) - يمكن الاستلام من جميع الفصائل',
                'B-': currentLanguage === 'en' ? 
                    'Rare type (2%) - Important for patients with rare blood types' : 
                    'فصيلة نادرة (2%) - مهمة للمرضى ذوي الفصائل النادرة'
            };
            alert(`${currentLanguage === 'en' ? 'Details of blood type' : 'تفاصيل فصيلة'} ${type}:\n${details[type]}`);
        }

        // NEW FUNCTIONS FOR ADDED SECTIONS
        
        // Blood Compatibility Simulator
        function checkCompatibility() {
            const donorType = document.getElementById('donorType').value;
            const recipientType = document.getElementById('recipientType').value;
            const resultDiv = document.getElementById('compatibilityResult');
            const resultTitle = document.getElementById('resultTitle');
            const resultDescription = document.getElementById('resultDescription');
            const compatibilityDetails = document.getElementById('compatibilityDetails');
            
            // قاعدة بيانات التوافق (مبسطة)
            const compatibility = {
                'O-': ['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'],
                'O+': ['A+', 'B+', 'AB+', 'O+'],
                'A-': ['A+', 'A-', 'AB+', 'AB-'],
                'A+': ['A+', 'AB+'],
                'B-': ['B+', 'B-', 'AB+', 'AB-'],
                'B+': ['B+', 'AB+'],
                'AB-': ['AB+', 'AB-'],
                'AB+': ['AB+']
            };
            
            const isCompatible = compatibility[donorType].includes(recipientType);
            
            if (isCompatible) {
                resultTitle.textContent = currentLanguage === 'en' ? 'Compatible!' : 'متوافق!';
                resultTitle.style.color = 'var(--success)';
                resultDescription.textContent = currentLanguage === 'en' 
                    ? `Blood type ${donorType} can donate to ${recipientType}` 
                    : `فصيلة الدم ${donorType} يمكنها التبرع لـ ${recipientType}`;
                
                compatibilityDetails.innerHTML = currentLanguage === 'en'
                    ? `<p>This donation is safe and can proceed.</p>`
                    : `<p>هذا التبرع آمن ويمكن المتابعة.</p>`;
            } else {
                resultTitle.textContent = currentLanguage === 'en' ? 'Not Compatible!' : 'غير متوافق!';
                resultTitle.style.color = 'var(--danger)';
                resultDescription.textContent = currentLanguage === 'en'
                    ? `Blood type ${donorType} cannot donate to ${recipientType}`
                    : `فصيلة الدم ${donorType} لا يمكنها التبرع لـ ${recipientType}`;
                
                compatibilityDetails.innerHTML = currentLanguage === 'en'
                    ? `<p>This donation could cause a dangerous immune reaction.</p>`
                    : `<p>هذا التبرع قد يسبب رد فعل مناعي خطير.</p>`;
            }
            
            resultDiv.style.display = 'block';
        }
        
        // Smart Donation Tool
        function calculateDonation() {
            const lastDonation = document.getElementById('lastDonation').value;
            const bloodType = document.getElementById('bloodType').value;
            const resultDiv = document.getElementById('donationResult');
            const donationTitle = document.getElementById('donationTitle');
            const donationDescription = document.getElementById('donationDescription');
            const nextDonationDate = document.getElementById('nextDonationDate');
            
            if (!lastDonation) {
                alert(currentLanguage === 'en' ? 'Please enter your last donation date' : 'يرجى إدخال تاريخ آخر تبرع');
                return;
            }
            
            const lastDate = new Date(lastDonation);
            const today = new Date();
            const daysSinceDonation = Math.floor((today - lastDate) / (1000 * 60 * 60 * 24));
            const daysUntilNextDonation = 56 - daysSinceDonation; // 8 أسابيع بين التبرعات
            
            if (daysSinceDonation < 56) {
                donationTitle.textContent = currentLanguage === 'en' ? 'Not Yet Eligible' : 'غير مؤهل بعد';
                donationTitle.style.color = 'var(--warning)';
                donationDescription.textContent = currentLanguage === 'en'
                    ? `You donated ${daysSinceDonation} days ago. You need to wait ${daysUntilNextDonation} more days.`
                    : `لقد تبرعت قبل ${daysSinceDonation} يوم. تحتاج إلى الانتظار ${daysUntilNextDonation} يوم إضافي.`;
                
                const nextDate = new Date(lastDate);
                nextDate.setDate(nextDate.getDate() + 56);
                nextDonationDate.innerHTML = currentLanguage === 'en'
                    ? `<p>Your next eligible donation date: <strong>${nextDate.toLocaleDateString()}</strong></p>`
                    : `<p>موعد تبرعك القادم: <strong>${nextDate.toLocaleDateString('ar-SA')}</strong></p>`;
            } else {
                donationTitle.textContent = currentLanguage === 'en' ? 'Eligible to Donate!' : 'مؤهل للتبرع!';
                donationTitle.style.color = 'var(--success)';
                donationDescription.textContent = currentLanguage === 'en'
                    ? `You are eligible to donate blood today!`
                    : `أنت مؤهل للتبرع بالدم اليوم!`;
                
                nextDonationDate.innerHTML = currentLanguage === 'en'
                    ? `<p>Thank you for your continued support!</p>`
                    : `<p>شكراً لدعمك المستمر!</p>`;
            }
            
            // معلومات إضافية حسب فصيلة الدم
            let bloodInfo = '';
            if (bloodType === 'O-') {
                bloodInfo = currentLanguage === 'en'
                    ? '<p>As an O- donor, you are a universal donor and your blood is in high demand.</p>'
                    : '<p>كمتبرع O-، أنت متبرع عام ودمك مطلوب بشدة.</p>';
            } else if (bloodType === 'AB+') {
                bloodInfo = currentLanguage === 'en'
                    ? '<p>As an AB+ donor, you are a universal plasma donor.</p>'
                    : '<p>كمتبرع AB+، أنت متبرع عام بالبلازما.</p>';
            }
            
            donationDescription.innerHTML += bloodInfo;
            resultDiv.style.display = 'block';
        }
        
        // Appointment Booking System
        function bookAppointment() {
            const form = document.getElementById('appointmentForm');
            const confirmationDiv = document.getElementById('appointmentConfirmation');
            const appointmentDetails = document.getElementById('appointmentDetails');
            
            // التحقق من صحة النموذج
            let isValid = true;
            const requiredFields = form.querySelectorAll('[required]');
            requiredFields.forEach(field => {
                if (!field.value) {
                    isValid = false;
                    field.style.borderColor = 'var(--danger)';
                } else {
                    field.style.borderColor = '';
                }
            });
            
            if (!isValid) {
                alert(currentLanguage === 'en' 
                    ? 'Please fill all required fields' 
                    : 'يرجى ملء جميع الحقول المطلوبة');
                return;
            }
            
            // جمع بيانات الموعد
            const name = document.getElementById('appointmentName').value;
            const phone = document.getElementById('appointmentPhone').value;
            const bloodType = document.getElementById('appointmentBloodType').value;
            const center = document.getElementById('appointmentCenter').value;
            const date = document.getElementById('appointmentDate').value;
            const time = document.getElementById('appointmentTime').value;
            
            // عرض تأكيد الحجز
            const centerNames = {
                'center1': currentLanguage === 'en' ? 'Main Center - Diwaniyah' : 'المركز الرئيسي - الديوانية',
                'center2': currentLanguage === 'en' ? 'Diwaniyah Teaching Hospital' : 'مستشفى الديوانية التعليمي',
                'center3': currentLanguage === 'en' ? 'Blood Donation Center - Industrial Area' : 'مركز التبرع بالدم - الحي الصناعي'
            };
            
            appointmentDetails.textContent = currentLanguage === 'en'
                ? `Appointment for ${name} at ${centerNames[center]} on ${date} at ${time}`
                : `موعد لـ ${name} في ${centerNames[center]} بتاريخ ${date} الساعة ${time}`;
            
            confirmationDiv.style.display = 'block';
            
            // إعادة تعيين النموذج
            form.reset();
            
            // تمرير إلى الأعلى لعرض التأكيد
            confirmationDiv.scrollIntoView({ behavior: 'smooth' });
        }

        // Contact Form Submission
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (currentLanguage === 'en') {
                alert('Thank you for your message! We will get back to you soon.');
            } else {
                alert('شكراً على رسالتك! سنتواصل معك قريباً.');
            }
            this.reset();
        });

        // Animated Statistics
        function animateStatistics() {
            const stats = [
                { id: 'stat1', target: 36, duration: 2000 },
                { id: 'stat2', target: 1, duration: 1500 },
                { id: 'stat3', target: 44, duration: 2500 },
                { id: 'stat4', target: 99.9, duration: 3000 }
            ];
            
            stats.forEach(stat => {
                const element = document.getElementById(stat.id);
                const increment = stat.target / (stat.duration / 50);
                let current = 0;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= stat.target) {
                        element.textContent = stat.id === 'stat4' ? '99.9%' : stat.target;
                        clearInterval(timer);
                    } else {
                        element.textContent = stat.id === 'stat4' 
                            ? Math.floor(current) + '%' 
                            : Math.floor(current);
                    }
                }, 50);
            });
        }

        // Scroll animations
        function handleScroll() {
            const header = document.getElementById('mainHeader');
            if (window.scrollY > 100) {
                header.classList.add('header-scrolled');
            } else {
                header.classList.remove('header-scrolled');
            }
            
            // Animate statistics when in view
            const statistics = document.querySelector('.statistics');
            const statsPosition = statistics.getBoundingClientRect().top;
            if (statsPosition < window.innerHeight - 100) {
                animateStatistics();
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Enhanced particle effect on click
        document.addEventListener('click', function(e) {
            for (let i = 0; i < 5; i++) {
                const particles = document.createElement('div');
                particles.style.position = 'fixed';
                particles.style.width = '8px';
                particles.style.height = '8px';
                particles.style.background = `radial-gradient(circle, ${getRandomColor()}, ${getRandomColor()})`;
                particles.style.borderRadius = '50%';
                particles.style.left = (e.clientX + Math.random() * 40 - 20) + 'px';
                particles.style.top = (e.clientY + Math.random() * 40 - 20) + 'px';
                particles.style.pointerEvents = 'none';
                particles.style.zIndex = '1000';
                particles.style.animation = `float ${1 + Math.random()}s ease-out forwards`;
                document.body.appendChild(particles);
                
                setTimeout(() => {
                    particles.remove();
                }, 1000);
            }
        });

        function getRandomColor() {
            const colors = ['#1e40af', '#7c3aed', '#dc2626', '#10b981', '#f59e0b'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // Initialize
        window.addEventListener('scroll', handleScroll);
        window.addEventListener('load', () => {
            AOS.refresh();
            // Start initial animations
            setTimeout(animateStatistics, 1000);
        });

        // Auto-rotate 3D blood cell
        const bloodCell3D = document.querySelector('.blood-cell-3d');
        setInterval(() => {
            bloodCell3D.style.animation = 'rotate3d 8s linear infinite';
        }, 8000);
    </script>
</body>
</html>